<?xml version="1.0" encoding="UTF-8"?>
<gmfmap:Mapping xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore"
    xmlns:gmfmap="http://www.eclipse.org/gmf/2008/mappings"
    xmlns:gmftool="http://www.eclipse.org/gmf/2005/ToolDefinition">
  <nodes>
    <containmentFeature
        href="SimplePDL.ecore#//Process/processElements"/>
    <ownedChild>
      <domainMetaElement
          href="SimplePDL.ecore#//Guidance"/>
      <labelMappings
          xsi:type="gmfmap:FeatureLabelMapping">
        <diagramLabel
            href="SimplePDL.gmfgraph#GuidanceText"/>
        <features
            href="SimplePDL.ecore#//Guidance/text"/>
        <editableFeatures
            href="SimplePDL.ecore#//Guidance/text"/>
      </labelMappings>
      <tool
          xsi:type="gmftool:CreationTool"
          href="SimplePDL.gmftool#//@palette/@tools.0/@tools.0"/>
      <diagramNode
          href="SimplePDL.gmfgraph#Guidance"/>
    </ownedChild>
  </nodes>
  <nodes>
    <containmentFeature
        href="SimplePDL.ecore#//Process/processElements"/>
    <ownedChild>
      <domainMetaElement
          href="SimplePDL.ecore#//ParameterSWD"/>
      <labelMappings
          xsi:type="gmfmap:FeatureLabelMapping">
        <diagramLabel
            href="SimplePDL.gmfgraph#ParameterSWDName"/>
        <features
            href="SimplePDL.ecore#//Parameter/name"/>
        <features
            href="SimplePDL.ecore#//Parameter/nbNeeds"/>
        <editableFeatures
            href="SimplePDL.ecore#//Parameter/name"/>
        <editableFeatures
            href="SimplePDL.ecore#//Parameter/nbNeeds"/>
      </labelMappings>
      <tool
          xsi:type="gmftool:CreationTool"
          href="SimplePDL.gmftool#//@palette/@tools.0/@tools.8"/>
      <diagramNode
          href="SimplePDL.gmfgraph#ParameterSWD"/>
    </ownedChild>
  </nodes>
  <nodes>
    <containmentFeature
        href="SimplePDL.ecore#//Process/processElements"/>
    <ownedChild>
      <domainMetaElement
          href="SimplePDL.ecore#//WorkDefinition"/>
      <labelMappings
          xsi:type="gmfmap:FeatureLabelMapping">
        <diagramLabel
            href="SimplePDL.gmfgraph#WorkDefinitionName"/>
        <features
            href="SimplePDL.ecore#//Activities/name"/>
        <features
            href="SimplePDL.ecore#//Activities/min_time"/>
        <features
            href="SimplePDL.ecore#//Activities/max_time"/>
        <editableFeatures
            href="SimplePDL.ecore#//Activities/name"/>
        <editableFeatures
            href="SimplePDL.ecore#//Activities/min_time"/>
        <editableFeatures
            href="SimplePDL.ecore#//Activities/max_time"/>
      </labelMappings>
      <tool
          xsi:type="gmftool:CreationTool"
          href="SimplePDL.gmftool#//@palette/@tools.0/@tools.3"/>
      <diagramNode
          href="SimplePDL.gmfgraph#WorkDefinition"/>
    </ownedChild>
  </nodes>
  <nodes>
    <containmentFeature
        href="SimplePDL.ecore#//Process/processElements"/>
    <ownedChild>
      <domainMetaElement
          href="SimplePDL.ecore#//SubWorkDefinition"/>
      <labelMappings
          xsi:type="gmfmap:FeatureLabelMapping">
        <diagramLabel
            href="SimplePDL.gmfgraph#SubWorkDefinitionName"/>
        <features
            href="SimplePDL.ecore#//Activities/name"/>
        <features
            href="SimplePDL.ecore#//Activities/min_time"/>
        <features
            href="SimplePDL.ecore#//Activities/max_time"/>
        <editableFeatures
            href="SimplePDL.ecore#//Activities/name"/>
        <editableFeatures
            href="SimplePDL.ecore#//Activities/min_time"/>
        <editableFeatures
            href="SimplePDL.ecore#//Activities/max_time"/>
      </labelMappings>
      <tool
          xsi:type="gmftool:CreationTool"
          href="SimplePDL.gmftool#//@palette/@tools.0/@tools.4"/>
      <diagramNode
          href="SimplePDL.gmfgraph#SubWorkDefinition"/>
    </ownedChild>
  </nodes>
  <nodes>
    <containmentFeature
        href="SimplePDL.ecore#//Process/processElements"/>
    <ownedChild>
      <domainMetaElement
          href="SimplePDL.ecore#//ParameterWD"/>
      <labelMappings
          xsi:type="gmfmap:FeatureLabelMapping">
        <diagramLabel
            href="SimplePDL.gmfgraph#ParameterWDName"/>
        <features
            href="SimplePDL.ecore#//Parameter/name"/>
        <features
            href="SimplePDL.ecore#//Parameter/nbNeeds"/>
        <editableFeatures
            href="SimplePDL.ecore#//Parameter/name"/>
        <editableFeatures
            href="SimplePDL.ecore#//Parameter/nbNeeds"/>
      </labelMappings>
      <tool
          xsi:type="gmftool:CreationTool"
          href="SimplePDL.gmftool#//@palette/@tools.0/@tools.6"/>
      <diagramNode
          href="SimplePDL.gmfgraph#ParameterWD"/>
    </ownedChild>
  </nodes>
  <nodes>
    <containmentFeature
        href="SimplePDL.ecore#//Process/resources"/>
    <ownedChild>
      <domainMetaElement
          href="SimplePDL.ecore#//Resource"/>
      <labelMappings
          xsi:type="gmfmap:FeatureLabelMapping">
        <diagramLabel
            href="SimplePDL.gmfgraph#ResourceName"/>
        <features
            href="SimplePDL.ecore#//Resource/name"/>
        <features
            href="SimplePDL.ecore#//Resource/marking"/>
        <editableFeatures
            href="SimplePDL.ecore#//Resource/name"/>
        <editableFeatures
            href="SimplePDL.ecore#//Resource/marking"/>
      </labelMappings>
      <tool
          xsi:type="gmftool:CreationTool"
          href="SimplePDL.gmftool#//@palette/@tools.0/@tools.10"/>
      <diagramNode
          href="SimplePDL.gmfgraph#Resource"/>
    </ownedChild>
  </nodes>
  <links>
    <tool
        xsi:type="gmftool:CreationTool"
        href="SimplePDL.gmftool#//@palette/@tools.0/@tools.9"/>
    <diagramLink
        href="SimplePDL.gmfgraph#ParameterSWDSubWorkDefinition"/>
    <linkMetaFeature
        xsi:type="ecore:EReference"
        href="SimplePDL.ecore#//ParameterSWD/subWorkDefinition"/>
    <creationConstraints>
      <targetEnd
          body="self &lt;> oppositeEnd"/>
    </creationConstraints>
  </links>
  <links>
    <tool
        xsi:type="gmftool:CreationTool"
        href="SimplePDL.gmftool#//@palette/@tools.0/@tools.7"/>
    <diagramLink
        href="SimplePDL.gmfgraph#ParameterWDWorkDefinition"/>
    <linkMetaFeature
        xsi:type="ecore:EReference"
        href="SimplePDL.ecore#//ParameterWD/workDefinition"/>
    <creationConstraints>
      <targetEnd
          body="self &lt;> oppositeEnd"/>
    </creationConstraints>
  </links>
  <links>
    <tool
        xsi:type="gmftool:CreationTool"
        href="SimplePDL.gmftool#//@palette/@tools.0/@tools.1"/>
    <diagramLink
        href="SimplePDL.gmfgraph#GuidanceElement"/>
    <linkMetaFeature
        xsi:type="ecore:EReference"
        href="SimplePDL.ecore#//Guidance/element"/>
    <creationConstraints>
      <targetEnd
          body="self &lt;> oppositeEnd"/>
    </creationConstraints>
  </links>
  <links>
    <tool
        xsi:type="gmftool:CreationTool"
        href="SimplePDL.gmftool#//@palette/@tools.0/@tools.5"/>
    <diagramLink
        href="SimplePDL.gmfgraph#SubWorkDefinitionParent"/>
    <linkMetaFeature
        xsi:type="ecore:EReference"
        href="SimplePDL.ecore#//SubWorkDefinition/parent"/>
    <creationConstraints>
      <targetEnd
          body="self &lt;> oppositeEnd"/>
    </creationConstraints>
  </links>
  <links>
    <domainMetaElement
        href="SimplePDL.ecore#//WorkSequence"/>
    <labelMappings
        xsi:type="gmfmap:FeatureLabelMapping">
      <diagramLabel
          href="SimplePDL.gmfgraph#WorkSequenceLinkType"/>
      <features
          href="SimplePDL.ecore#//WorkSequence/name"/>
      <features
          href="SimplePDL.ecore#//WorkSequence/linkType"/>
      <editableFeatures
          href="SimplePDL.ecore#//WorkSequence/name"/>
      <editableFeatures
          href="SimplePDL.ecore#//WorkSequence/linkType"/>
    </labelMappings>
    <containmentFeature
        href="SimplePDL.ecore#//Process/processElements"/>
    <tool
        xsi:type="gmftool:CreationTool"
        href="SimplePDL.gmftool#//@palette/@tools.0/@tools.2"/>
    <diagramLink
        href="SimplePDL.gmfgraph#WorkSequence"/>
    <sourceMetaFeature
        xsi:type="ecore:EReference"
        href="SimplePDL.ecore#//WorkSequence/predecessor"/>
    <linkMetaFeature
        xsi:type="ecore:EReference"
        href="SimplePDL.ecore#//WorkSequence/successor"/>
    <creationConstraints>
      <targetEnd
          body="self &lt;> oppositeEnd"/>
    </creationConstraints>
  </links>
  <diagram>
    <diagramCanvas
        href="SimplePDL.gmfgraph#simplepdl"/>
    <domainModel
        href="SimplePDL.ecore#/"/>
    <domainMetaElement
        href="SimplePDL.ecore#//Process"/>
    <palette
        href="SimplePDL.gmftool#//@palette"/>
  </diagram>
  <audits
      id="rules"
      name="rules"
      description="">
    <childContainers
        id="resource"
        name="resource">
      <audits
          name="nameDefined"
          description=""
          id="resourceNameDefined"
          message="">
        <rule
            body="self.name.size() > 0"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Resource"/>
        </target>
      </audits>
      <audits
          name="markingIsDefined"
          id="resourceMarkingIsDefined">
        <rule
            body="if  self.marking.oclIsUndefined() then&#xA;&#x9;false&#xA;    else&#xA;&#x9;self.marking >= 0&#xA;    endif"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Resource"/>
        </target>
      </audits>
    </childContainers>
    <childContainers
        id="process"
        name="process">
      <audits
          name="nameDefined"
          description=""
          id="processNameDefined"
          message="">
        <rule
            body="self.name.size() > 0"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Process"/>
        </target>
      </audits>
      <audits
          name="activitiesDiffName"
          description=""
          id="processActivitiesDiffName">
        <rule
            body="self.processElements->forAll(e1,e2 | e1&lt;>e2 implies e1.oclAsType(Activities).name&lt;>e2.oclAsType(Activities).name)"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Process"/>
        </target>
      </audits>
      <audits
          name="parametersDiffName"
          id="processParametersDiffName"
          message="">
        <rule
            body="self.processElements->forAll(e1,e2 | e1&lt;>e2 implies e1.oclAsType(Parameter).name&lt;>e2.oclAsType(Parameter).name)"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Process"/>
        </target>
      </audits>
      <audits
          name="min_timeMax_timeAreDefined"
          id="processMin_timeMax_timeAreDefined">
        <rule
            body="if  self.min_time.oclIsUndefined() or self.max_time.oclIsUndefined() then&#xA;&#x9;false&#xA;    else&#xA;&#x9;self.min_time >= 0 and (self.max_time >= self.min_time or self.max_time = -1)&#xA;    endif"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Process"/>
        </target>
      </audits>
      <audits
          name="resourcesDiffName"
          id="processResourcesDiffName">
        <rule
            body="self.resources->forAll(r1,r2 | r1&lt;>r2 implies r1.oclAsType(Resource).name&lt;>r2.oclAsType(Resource).name)"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Process"/>
        </target>
      </audits>
      <audits
          name="globalMax_time"
          id="processGlobalMax_time">
        <rule
            body="self.processElements->forAll(e | (e.oclAsType(WorkDefinition).max_time &lt;= self.max_time or self.max_time = -1))"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Process"/>
        </target>
      </audits>
      <audits
          name="containmentConsistency"
          description=""
          id="processContainmentConsistency">
        <rule
            body="let elements : Set(ProcessElement) = self.processElements in&#xA;    let wds: Set(ProcessElement) = elements->select( e | e.oclIsTypeOf(WorkDefinition)) in&#xA;      let wss: Set(ProcessElement) = elements->select( e | e.oclIsTypeOf(WorkSequence)) in&#xA;        -- WS linked to a process WD are elements of this process&#xA;        wds->forAll(wd: ProcessElement |&#xA;            elements->includesAll(wd.oclAsType(WorkDefinition).linksToPredecessors)&#xA;            and elements->includesAll(wd.oclAsType(WorkDefinition).linksToSuccessors))&#xA;        -- source and target of a process WS are elements of this process&#xA;        and wss->forAll(ws: ProcessElement |&#xA;            elements->includes(ws.oclAsType(WorkSequence).predecessor)&#xA;            and elements->includes(ws.oclAsType(WorkSequence).successor))"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Process"/>
        </target>
      </audits>
      <audits
          name="WDparameterWDConsistency"
          id="processWDparameterWDConsistency">
        <rule
            body="let elements : Set(ProcessElement) = self.processElements in&#xA;    let wds: Set(ProcessElement) = elements->select( e | e.oclIsTypeOf(WorkDefinition)) in&#xA;      let parwds: Set(ProcessElement) = elements->select( e | e.oclIsTypeOf(ParameterWD)) in&#xA;        -- ParWD linked to a process WD are elements of this process&#xA;        wds->forAll(wd: ProcessElement |&#xA;&#x9;&#x9;&#x9;elements->includesAll(wd.oclAsType(WorkDefinition).needsWD))&#xA;        -- source and target of a process WS are elements of this process&#xA;        and parwds->forAll(par: ProcessElement |&#xA;            elements->includes(par.oclAsType(ParameterWD).workDefinition))"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Process"/>
        </target>
      </audits>
      <audits
          name="SWDparameterSWDConsistency"
          id="processSWDparameterSWDConsistency">
        <rule
            body="let elements : Set(ProcessElement) = self.processElements in&#xA;    let swds: Set(ProcessElement) = elements->select( e | e.oclIsTypeOf(SubWorkDefinition)) in&#xA;      let parswds: Set(ProcessElement) = elements->select( e | e.oclIsTypeOf(ParameterSWD)) in&#xA;        -- ParSWD linked to a process SWD are elements of this process&#xA;        swds->forAll(swd: ProcessElement |&#xA;&#x9;&#x9;&#x9;elements->includesAll(swd.oclAsType(SubWorkDefinition).needsSWD))&#xA;        -- source and target of a process WS are elements of this process&#xA;        and parswds->forAll(par: ProcessElement |&#xA;            elements->includes(par.oclAsType(ParameterSWD).subWorkDefinition))"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Process"/>
        </target>
      </audits>
      <audits
          name="parameterWDConsistency"
          id="processParameterWDConsistency">
        <rule
            body="let elements : Set(ProcessElement) = self.processElements in&#xA;    let parwds: Set(ProcessElement) = elements->select( e | e.oclIsTypeOf(ParameterWD)) in&#xA;      let res: Set(Resource) = self.resources in&#xA;        -- ParWD linked to a resource Res are elements of this process&#xA;        parwds->forAll(par: ProcessElement |&#xA;&#x9;&#x9;&#x9;res->includes(par.oclAsType(ParameterWD).resource))"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Process"/>
        </target>
      </audits>
      <audits
          name="parameterSWDConsistency"
          id="proessParameterSWDConsistency">
        <rule
            body="let elements : Set(ProcessElement) = self.processElements in&#xA;    let parswds: Set(ProcessElement) = elements->select( e | e.oclIsTypeOf(ParameterSWD)) in&#xA;        -- ParWD linked to a process WD are elements of this process&#xA;        parswds->forAll(par: ProcessElement |&#xA;&#x9;&#x9;&#x9;elements->includes(par.oclAsType(ParameterSWD).internResource))"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Process"/>
        </target>
      </audits>
      <audits
          name="familyConsistency"
          id="processFamilyConsistency">
        <rule
            body="let elements : Set(ProcessElement) = self.processElements in&#xA;    let wds: Set(ProcessElement) = elements->select( e | e.oclIsTypeOf(WorkDefinition)) in&#xA;      let swds: Set(ProcessElement) = elements->select( e | e.oclIsTypeOf(SubWorkDefinition)) in&#xA;        -- ParSWD linked to a process SWD are elements of this process&#xA;        wds->forAll(wd: ProcessElement |&#xA;&#x9;&#x9;&#x9;elements->includesAll(wd.oclAsType(WorkDefinition).children))&#xA;        -- source and target of a process WS are elements of this process&#xA;        and swds->forAll(swd: ProcessElement |&#xA;            elements->includes(swd.oclAsType(SubWorkDefinition).parent))"/>
        <target
            xsi:type="gmfmap:DomainElementTarget">
          <element
              href="SimplePDL.ecore#//Process"/>
        </target>
      </audits>
    </childContainers>
    <childContainers
        id="processElement"
        name="processElement"
        description="">
      <childContainers
          id="guidance"
          name="guidance"/>
      <childContainers
          id="workSequence"
          name="workSequence">
        <audits
            name="notReflexive"
            id="workSequenceNotReflexive">
          <rule
              body="self.predecessor&lt;>self.successor"/>
          <target
              xsi:type="gmfmap:DomainElementTarget">
            <element
                href="SimplePDL.ecore#//WorkSequence"/>
          </target>
        </audits>
      </childContainers>
      <childContainers
          id="activities"
          name="activities">
        <audits
            name="nameDefined"
            description=""
            id="activitiesNameDefined"
            message="">
          <rule
              body="self.name.size() > 0"/>
          <target
              xsi:type="gmfmap:DomainElementTarget">
            <element
                href="SimplePDL.ecore#//WorkDefinition"/>
          </target>
        </audits>
        <audits
            name="min_timeMax_timeAreDefined"
            id="activitiesMin_timeMax_timeAreDefined">
          <rule
              body="if  self.min_time.oclIsUndefined() or self.max_time.oclIsUndefined() then&#xA;&#x9;false&#xA;    else&#xA;&#x9;self.min_time >= 0 and (self.max_time >= self.min_time or self.max_time = -1)&#xA;    endif"/>
          <target
              xsi:type="gmfmap:DomainElementTarget">
            <element
                href="SimplePDL.ecore#//Activities"/>
          </target>
        </audits>
        <childContainers
            id="workDefinition"
            name="workDefinition">
          <audits
              name="parameterDiffResource"
              description=""
              id="workDefinitionParameterDiffResource">
            <rule
                body="self.needsWD->forAll(p1,p2 | p1&lt;>p2 implies p1.resource.oclAsType(Resource).name&lt;>p2.resource.oclAsType(Resource).name)"/>
            <target
                xsi:type="gmfmap:DomainElementTarget">
              <element
                  href="SimplePDL.ecore#//WorkDefinition"/>
            </target>
          </audits>
        </childContainers>
        <childContainers
            id="subWorkDefinition"
            name="subWorkDefinition">
          <audits
              name="parameterDiffParameter"
              id="subWorkDefinitionParameterDiffParameter">
            <rule
                body="self.needsSWD->forAll(p1,p2 | p1&lt;>p2 implies p1.internResource.oclAsType(ParameterWD).name&lt;>p2.internResource.oclAsType(ParameterWD).name)"/>
            <target
                xsi:type="gmfmap:DomainElementTarget">
              <element
                  href="SimplePDL.ecore#//SubWorkDefinition"/>
            </target>
          </audits>
          <audits
              name="parentDifferent"
              id="subWorkDefinitionParentDifferent">
            <rule
                body="self.parent &lt;> self"/>
            <target
                xsi:type="gmfmap:DomainElementTarget">
              <element
                  href="SimplePDL.ecore#//SubWorkDefinition"/>
            </target>
          </audits>
        </childContainers>
      </childContainers>
      <childContainers
          id="parameter"
          name="parameter"
          description="">
        <audits
            name="nameDefined"
            description=""
            id="parameterNameDefined"
            message="">
          <rule
              body="self.name.size() > 0"/>
          <target
              xsi:type="gmfmap:DomainElementTarget">
            <element
                href="SimplePDL.ecore#//Parameter"/>
          </target>
        </audits>
        <childContainers
            id="parameterSWD"
            name="parameterSWD">
          <audits
              name="nbNeedsIsDefined"
              id="parameterSWDNbNeedsIsDefined"
              message="">
            <rule
                body="    if  self.nbNeeds.oclIsUndefined() then&#xA;&#x9;false&#xA;    else&#xA;&#x9;self.nbNeeds >= 0 and self.nbNeeds &lt;= self.internResource.oclAsType(Parameter).nbNeeds&#xA;    endif"/>
            <target
                xsi:type="gmfmap:DomainElementTarget">
              <element
                  href="SimplePDL.ecore#//ParameterSWD"/>
            </target>
          </audits>
        </childContainers>
        <childContainers
            id="parameterWD"
            name="parameterWD">
          <audits
              name="nbNeedsIsDefined"
              id="parameterWDNbNeedsIsDefined"
              message="">
            <rule
                body="    if  self.nbNeeds.oclIsUndefined() then&#xA;&#x9;false&#xA;    else&#xA;&#x9;self.nbNeeds >= 0 and self.nbNeeds &lt;= self.resource.oclAsType(Resource).marking&#xA;&#x9;endif"/>
            <target
                xsi:type="gmfmap:DomainElementTarget">
              <element
                  href="SimplePDL.ecore#//ParameterWD"/>
            </target>
          </audits>
        </childContainers>
      </childContainers>
    </childContainers>
  </audits>
</gmfmap:Mapping>
